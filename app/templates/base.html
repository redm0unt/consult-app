<!doctype html>
<html lang="ru">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css">
        <link rel="stylesheet" href="{{ url_for('static', filename='style/style.css') }}">

        {% block head %}{% endblock %}

        <title>{{ page_title | default('ConsultApp') }}</title>
    </head>
    <body>
        <div id="page-wrapper">
            <aside class="sidebar">
                <div class="sidebar-top-group">
                    <a href="#" class="sidebar-logo-link"><img src="{{ url_for('static', filename='img/main_logo.png') }}" alt="Logo" class="sidebar-logo"></a>
                    <ul class="sidebar-nav">
                        {% for page in pages %}
                            <li class="sidebar-item">
                                <div></div>
                                <a href="#" class="sidebar-item-link">{{ page }}</a>
                            </li>
                        {% endfor %}
                    </ul>
                </div>
                <div class="sidebar-bottom-group">
                    <button type="button" class="sidebar-account-actions sidebar-item" aria-haspopup="true" aria-expanded="false">
                        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" stroke="currentColor" stroke-width="0.5" class="bi bi-person-circle" viewBox="-0.5 -0.5 17 17">
                            <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0"/>
                            <path fill-rule="evenodd" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8m8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1"/>
                        </svg>
                        <span class="sidebar-account-actions-label">{{ current_user.initials | default('Гость') }}</span>
                    </button>
                    <ul class="sidebar-popup-menu" role="menu">
                        <li id="sidebar-popup-menu-account" class="sidebar-item">
                            <a class="sidebar-item-link" href="#" role="menuitem">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="bi bi-person-fill" viewBox="0 0 16 16">
                                    <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6"/>
                                </svg>
                                <span>Аккаунт</span>
                            </a>
                        </li>
                        <li class="sidebar-item">
                            <a class="sidebar-item-link" href="{{ url_for('auth.logout') }}" role="menuitem">
                                <i class="bi bi-box-arrow-right sidebar-popup-menu-item-icon" aria-hidden="true"></i>
                                <span>Выход</span>
                            </a>
                        </li>
                    </ul>
                </div>
            </aside>
            <main class="content">
                <div class="alerts-area center-alerts">
                    {% with messages = get_flashed_messages(with_categories=true) %}
                        {% for category, msg in messages %}
                            <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
                                {{ msg }}
                                <button type="button" style="background-image: url('{{ url_for('static', filename='img/close_icon.png') }}');" class="btn-close close-alert-btn" data-bs-dismiss="alert" aria-label="Close"></button>
                            </div>
                        {% endfor %}
                    {% endwith %}
                </div>
                {% block content %}
                    <div class="content-empty-state" role="note">
                        <h1 class="content-empty-state__title">Эта страница пуста</h1>
                        <a class="content-empty-state__link" href="{{ url_for('main.index') }}">Вернуться на главную</a>
                    </div>
                {% endblock %}
            </main>
        </div>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
        <script src="{{ url_for('static', filename='script.js') }}"></script>
        {% block scripts %}{% endblock %}
    </body>
</html>